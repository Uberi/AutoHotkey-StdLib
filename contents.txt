{"encoding":"base64","sha":"9aa860965383723fa466fbf838edf8b1a54a72f2","url":"https://api.github.com/repos/ahklib/LSON/git/blobs/9aa860965383723fa466fbf838edf8b1a54a72f2","size":6795,"content":"OyBzZWxmIHJlZmVyZW5jZXMgKHRyZWUpIHN5bnRheDogCjsgICAvIGlzIHJv\nb3Qgb2JqZWN0CjsgICBzdWIgb2JqZWN0cyByZWZlcmVuY2VkIGJ5IGluZGV4\nCjsgICBpZiByZWZlcmVuY2UgZW5kcyB3aXRoICJrIiBpdCBpcyB0aGUga2V5\nLW9iamVjdCBhdCB0aGF0IGluZGV4CjsgICBlYWNoIG5lc3QgbGV2ZWwgYWRk\ncyBhbm90aGVyICIvIgo7CjsgZS5nLgo7IC8gICAgICAgcmVmZXJzIHRvIHJv\nb3QgaXRzZWxmCjsgLzIgICAgICByZWZlcnMgdG8gdGhlIHJvb3QncyBzZWNv\nbmQgaW5kZXggdmFsdWUKOyAvNGsgICAgIHJlZmVycyB0byB0aGUgcm9vdCdz\nIGZvdXJ0aCBpbmRleCAqa2V5KiAob2JqZWN0LWtleSkKOyAvMS81ay8zIHJl\nZmVycyB0bzogcm9vdCBmaXJzdCBpbmRleCB2YWx1ZSAtPiBmaWZ0aCBpbmRl\neCBrZXkgLT4gdGhpcmQgaW5kZXggdmFsdWUKCjtUT0RPOiBkcm9wIHN1cHBv\ncnQgZm9yIGFoay1vYmplY3RzLCBhbmQgY2hhbmdlIGFsbCBlc2NhcGUgc2Vx\ndWVuY2VzIHRvIFwKCkxTT04oIG9ial90ZXh0ICkgewogICAgcmV0dXJuIElz\nT2JqZWN0KG9ial90ZXh0KSA/IExTT05fU2VyaWFsaXplKG9ial90ZXh0KSA6\nIExTT05fRGVzZXJpYWxpemUob2JqX3RleHQpCn0KCkxTT05fU2VyaWFsaXpl\nKCBvYmosIGxvYmogPSAiIiwgdHBvcyA9ICIiICkgCnsKICAgIGFycmF5IDo9\nIFRydWUsICB0cG9zIC49ICIvIiwgc2VwIDo9ICIsICIKICAgIGlmICFJc09i\namVjdChsb2JqKQogICAgICAgIGxvYmogOj0gT2JqZWN0KCZvYmosIHRwb3Mp\nIDsgdGhpcyByb290IG9iamVjdCBpcyBzdGF0aWMgdGhyb3VnaCBhbGwgcmVj\ndXJzaW9uCiAgICBmb3Igayx2IGluIG9iagogICAgewogICAgICAgIHJldE9i\naiAuPSAiLCAiIChJc09iamVjdChrKSA/IExTT05fR2V0T2JqKGssIGxvYmos\nIHRwb3MgQV9JbmRleCAiayIpIDogTFNPTl9Ob3JtYWxpemUoaykpICI6ICIK\nICAgICAgICAgICAgICAgLiB2IDo9ICAoSXNPYmplY3QodikgPyBMU09OX0dl\ndE9iaih2LCBsb2JqLCB0cG9zIEFfSW5kZXgpICAgICA6ICh2KzAgIT0gIiIg\nPyB2IDogTFNPTl9Ob3JtYWxpemUodikpKQogICAgICAgIGlmIChhcnJheSA6\nPSBhcnJheSAmJiBrID09IEFfSW5kZXgpCiAgICAgICAgICAgIHJldEFyciAu\nPSAiLCAiIHYKICAgIH0KICAgIHJldHVybiBhcnJheSA/ICJbIiBTdWJTdHIo\ncmV0QXJyLDMpICJdIiA6ICJ7IiBTdWJTdHIocmV0T2JqLDMpICJ9Igp9CgpM\nU09OX0dldE9iaiggb2JqLCBsb2JqLCB0cG9zICkgCnsKICAgIGlmIChsb2Jq\nLkhhc0tleSgmb2JqKSkKICAgICAgICByZXR1cm4gbG9ialsmb2JqXQogICAg\nbG9ialsmb2JqXSA6PSB0cG9zCiAgICByZXR1cm4gSXNGdW5jKG9iaikgPyBv\nYmouTmFtZSAiKCkiIDogTFNPTl9TZXJpYWxpemUob2JqLCBsb2JqLCB0cG9z\nKQp9CgpMU09OX0Rlc2VyaWFsaXplKCBfdGV4dCwgbG9iaiA9ICIiLCB0cG9z\nID0gIiIgKSAKewogICAgX3RleHQgOj0gUmVnRXhSZXBsYWNlKF90ZXh0LCAi\nXlxzKysiKSA7IHJlbW92ZSBsZWFkaW5nIHdoaXRlc3BhY2UKICAgIGMgOj0g\nU3ViU3RyKF90ZXh0LCAxLCAxKQogICAgaWYgIUluU3RyKCJbeyIsYykKICAg\nICAgICB0aHJvdyAib2JqZWN0IG5vdCByZWNvZ25pemVkIgogICAgdHlwZSA6\nPSBjID0gIlsiID8gImFyciIgOiAib2JqIgogICAgcG9zICA6PSAxCiAgICBt\nb2RlIDo9IGMgPSAiWyIgPyAidmFsdWUiIDogImtleSIKICAgIHJldCAgOj0g\nT2JqZWN0KCkKICAgIGlkeCAgOj0gMQogICAga2V5dG9rZW4gOj0gIiIKICAg\nIGNvbXBsZXRlIDo9IGZhbHNlCiAgICAKICAgIGlmICFJc09iamVjdChsb2Jq\nKQogICAgICAgIHRwb3MgOj0gIi8iLCBsb2JqIDo9IE9iamVjdCgpCiAgICBs\nb2JqW3Rwb3NdIDo9ICZyZXQKICAgIAogICAgd2hpbGUgKytwb3MgPD0gU3Ry\nTGVuKF90ZXh0KSB7CiAgICAgICAgYyA6PSBTdWJTdHIoX3RleHQsIHBvcywg\nMSkKICAgICAgICBpZiBJblN0cigiIGB0YHJgbiIsIGMpIDt3aGl0ZXNwYWNl\nCiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgdGV4dCA6PSBTdWJTdHIo\nX3RleHQsIHBvcykKICAgICAgICBpZiBSZWdFeE1hdGNoKHRleHQsICJeIiIo\nPzpbXiIiXFxdfFxcLikrIiIiLCB0b2tlbikgO3N0cmluZwogICAgICAgICAg\nICBwb3MgKz0gU3RyTGVuKHRva2VuKSwgdG9rZW4gOj0gTFNPTl9Vbk5vcm1h\nbGl6ZSh0b2tlbiksIHRva2VudHlwZSA6PSAic3RyaW5nIgogICAgICAgIGVs\nc2UgaWYgUmVnRXhNYXRjaCh0ZXh0LCAiXlxkKysoPzpcLlxkKysoPzplW1wr\nXC1dP1xkKyspPyk/fDB4W1xkYS1mQS1GXSsrIiwgdG9rZW4pIDsgbnVtYmVy\nCiAgICAgICAgICAgIHBvcyArPSBTdHJMZW4odG9rZW4pLCB0b2tlbiA6PSB0\nb2tlbiswLCB0b2tlbnR5cGUgOj0gIm51bWJlciIKICAgICAgICBlbHNlIGlm\nIChtb2RlID0gImtleSIpICYmIFJlZ0V4bWF0Y2godGV4dCwgIl5bXHcjQCRd\nKysiLCB0b2tlbikgO2lkZW50aWZpZXIKICAgICAgICAgICAgcG9zICs9IFN0\nckxlbih0b2tlbiksIHRva2VuIDo9IHRva2VuLCB0b2tlbnR5cGUgOj0gImlk\nZW50aWZpZXIiCiAgICAgICAgZWxzZSBpZiBSZWdFeE1hdGNoKHRleHQsICJe\nKD8hXC4pW1x3I0AkXC5dKyg/PCFcLikoPz1cKFwpKSIsIHRva2VuKSB7IDtm\ndW5jdGlvbgogICAgICAgICAgICBwb3MgKz0gU3RyTGVuKHRva2VuKSsyLCB0\nb2tlbnR5cGUgOj0gImZ1bmN0aW9uIgogICAgICAgICAgICBpZiAhSXNGdW5j\nKHRva2VuKQogICAgICAgICAgICAgICAgdGhyb3cgIkZ1bmN0aW9uIG5vdCBm\nb3VuZDogIiB0b2tlbiAiKCkgYXQgcG9zaXRpb24gIiAocG9zLVN0ckxlbih0\nb2tlbiktMikKICAgICAgICAgICAgdG9rZW4gOj0gRnVuYyh0b2tlbikKICAg\nICAgICB9CiAgICAgICAgZWxzZSBpZiBSZWdFeE1hdGNoKHRleHQsICJeKD86\nXC8oPzpcZCtrPyk/KSsrIiwgdG9rZW4pIHsgOyBzZWxmLXJlZmVyZW5jZQog\nICAgICAgICAgICBwb3MgKz0gU3RyTGVuKHRva2VuKSwgdG9rZW50eXBlIDo9\nICJyZWZlcmVuY2UiCiAgICAgICAgICAgIGlmICFsb2JqLkhhc0tleSh0b2tl\nbikKICAgICAgICAgICAgICAgIHRocm93ICJTZWxmLXJlZmVyZW5jZSBub3Qg\nZm91bmQ6ICIgdG9rZW4gIiBhdCBwb3NpdGlvbiAiIChwb3MtU3RyTGVuKHRv\na2VuKSkKICAgICAgICAgICAgdG9rZW4gOj0gT2JqZWN0KGxvYmpbdG9rZW5d\nKQogICAgICAgIH0KICAgICAgICBlbHNlIGlmIEluU3RyKCJbeyIsIGMpCiAg\nICAgICAgICAgIHRva2VuIDo9IExTT05fRGVzZXJpYWxpemUodGV4dCwgbG9i\naiwgdHBvcyAodHBvcyE9Ii8iPyIvIjoiIikgaWR4IChtb2RlPSJrZXkiPyJr\nIjoiIikpCiAgICAgICAgICAgICwgcG9zICs9IEVycm9yTGV2ZWwKICAgICAg\nICAgICAgLCB0b2tlbnR5cGUgOj0gb2JqZWN0CiAgICAgICAgZWxzZQogICAg\nICAgICAgICB0aHJvdyAiRXhwZWN0ZWQgdG9rZW4sIGdvdDogJyIgYyAiJyBh\ndCBwb3NpdGlvbiAiIHBvcwogICAgICAgIAogICAgICAgIGlmICh0eXBlID0g\nImFyciIpCiAgICAgICAgICAgIHJldFtpZHhdIDo9IHRva2VuCiAgICAgICAg\nZWxzZSBpZiAobW9kZSA9ICJrZXkiKQogICAgICAgICAgICBrZXl0b2tlbiA6\nPSB0b2tlbgogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0W2tleXRva2Vu\nXSA6PSB0b2tlbiwga2V5dG9rZW4gOj0gIiIKICAgICAgICAKICAgICAgICB3\naGlsZSBwb3MgPCBTdHJMZW4oX3RleHQpICYmIEluU3RyKCIgYHRgcmBuIiwg\nU3ViU3RyKF90ZXh0LCBwb3MsIDEpKSA7dHJpbSB3aGl0ZXNwYWNlIGFmdGVy\nIHRva2VuCiAgICAgICAgICAgICsrcG9zCiAgICAgICAgCiAgICAgICAgYyA6\nPSBTdWJTdHIoX3RleHQsIHBvcywgMSkKICAgICAgICBpZiAodHlwZSA9ICJh\ncnIiKQogICAgICAgICAgICBpZiAoYyA9ICJdIikKICAgICAgICAgICAgICAg\nIG1vZGUgOj0gImVuZCIKICAgICAgICAgICAgZWxzZSBpZiAoYyA9ICIsIikK\nICAgICAgICAgICAgICAgIGlkeCsrCiAgICAgICAgICAgIGVsc2UKICAgICAg\nICAgICAgICAgIHRocm93ICJFeHBlY3RlZCBhcnJheSBzZXBhcmF0b3IvdGVy\nbWluYXRpb24sIGdvdDogJyIgYyAgIicgYXQgcG9zaXRpb24gIiBwb3MKICAg\nICAgICBlbHNlIGlmICh0eXBlID0gIm9iaiIpCiAgICAgICAgICAgIGlmICht\nb2RlID0gInZhbHVlIiA/IGMgPSAiLCIgOiBjID0gIjoiKQogICAgICAgICAg\nICAgICAgaWYgKG1vZGUgPSAidmFsdWUiKQogICAgICAgICAgICAgICAgICAg\nIG1vZGUgOj0gImtleSIsIGlkeCsrCiAgICAgICAgICAgICAgICBlbHNlCiAg\nICAgICAgICAgICAgICAgICAgbW9kZSA6PSAidmFsdWUiCiAgICAgICAgICAg\nIGVsc2UgaWYgKG1vZGUgPSAidmFsdWUiICYmIGMgPSAifSIpCiAgICAgICAg\nICAgICAgICBtb2RlIDo9ICJlbmQiCiAgICAgICAgICAgIGVsc2UKICAgICAg\nICAgICAgICAgIHRocm93ICJFeHBlY3RlZCBvYmplY3QgIiAobW9kZSA9ICJr\nZXkiID8gImtleS90ZXJtaW5hdGlvbiIgOiAidmFsdWUiKSAiLCBnb3Q6ICci\nIGMgICInIGF0IHBvc2l0aW9uICIgcG9zCiAgICAgICAgCiAgICAgICAgaWYg\nKG1vZGUgPSAiZW5kIikgewogICAgICAgICAgICBjb21wbGV0ZSA6PSBUcnVl\nCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgfQogICAgaWYgIWNv\nbXBsZXRlCiAgICAgICAgdGhyb3cgIlVuZXhwZWN0ZWQgZW5kIG9mIHN0cmlu\nZyIKICAgIHJldHVybiByZXQsIEVycm9yTGV2ZWwgOj0gcG9zCn0KCkxTT05f\nTm9ybWFsaXplKHRleHQpIAp7CiAgICB0ZXh0IDo9IFJlZ0V4UmVwbGFjZSh0\nZXh0LCJcXCIsIlxcIikKICAgIHRleHQgOj0gUmVnRXhSZXBsYWNlKHRleHQs\nIi8iLCJcLyIpCiAgICB0ZXh0IDo9IFJlZ0V4UmVwbGFjZSh0ZXh0LCJgYiIs\nIlxiIikKICAgIHRleHQgOj0gUmVnRXhSZXBsYWNlKHRleHQsImBmIiwiXGYi\nKQogICAgdGV4dCA6PSBSZWdFeFJlcGxhY2UodGV4dCwiYG4iLCJcbiIpCiAg\nICB0ZXh0IDo9IFJlZ0V4UmVwbGFjZSh0ZXh0LCJgciIsIlxyIikKICAgIHRl\neHQgOj0gUmVnRXhSZXBsYWNlKHRleHQsImB0IiwiXHQiKQogICAgdGV4dCA6\nPSBSZWdFeFJlcGxhY2UodGV4dCwiIiIiLCJcIiIiKQogICAgd2hpbGUgUmVn\nRXhNYXRjaCh0ZXh0LCAiW1x4MC1ceDE5XSIsIGNoYXIpCiAgICAgICAgdGV4\ndCA6PSBSZWdFeFJlcGxhY2UodGV4dCwgY2hhciwgIlx1IiBGb3JtYXQoInsx\nOjA0WH0iLCBhc2MoY2hhcikpKQogICAgcmV0dXJuICIiIiIgdGV4dCAiIiIi\nCn0KCkxTT05fVW5Ob3JtYWxpemUodGV4dCkKewogICAgdGV4dCA6PSBTdWJT\ndHIodGV4dCwgMiwgLTEpIDtzdHJpcCBvdXRzaWRlIHF1b3RlcwogICAgd2hp\nbGUgUmVnRXhNYXRjaCh0ZXh0LCAiKD88IVxcKSgoPzpcXFxcKSorKVxcdSgu\nLi4uKSIsIGNoYXIpCiAgICAgICAgdGV4dCA6PSBSZWdFeFJlcGxhY2UodGV4\ndCwgIig/PCFcXCkoKD86XFxcXCkqKylcXHUiIGNoYXIyLCAiJDEiIENocigi\nMHgiIGNoYXIyKSkKICAgIHRleHQgOj0gUmVnRXhSZXBsYWNlKHRleHQsIlxc\nIiIiLCAiIiIiKSA7dW4tZXNjYXBlIHF1b3RlcwogICAgdGV4dCA6PSBSZWdF\neFJlcGxhY2UodGV4dCwiXFx0IiwiYHQiKQogICAgdGV4dCA6PSBSZWdFeFJl\ncGxhY2UodGV4dCwiXFxyIiwiYHIiKQogICAgdGV4dCA6PSBSZWdFeFJlcGxh\nY2UodGV4dCwiXFxuIiwiYG4iKQogICAgdGV4dCA6PSBSZWdFeFJlcGxhY2Uo\ndGV4dCwiXFxmIiwiYGYiKQogICAgdGV4dCA6PSBSZWdFeFJlcGxhY2UodGV4\ndCwiXFxiIiwiYGIiKQogICAgdGV4dCA6PSBSZWdFeFJlcGxhY2UodGV4dCwi\nXFwvIiwiLyIpCiAgICB0ZXh0IDo9IFJlZ0V4UmVwbGFjZSh0ZXh0LCJcXFxc\nIiwiXCIpCiAgICByZXR1cm4gdGV4dAp9Cgo7IFRoZXNlIHdpbGwgbm90IGJl\nIHVzZWQgdW50aWwgYSByZWxpYWJsZSBtZXRob2Qgb2YgZGV0ZXJtaW5pbmcg\nd2hldGhlciBhbiBvYmplY3QgY29udGFpbnMgYmluYXJ5IGRhdGEgaXMgZm91\nbmQKTFNPTl9CaW5Ub1N0cmluZyhvYmosIGssIGxlbiA9ICIiKQp7CiAgICB2\nc3ogOj0gbGVuID8gbGVuKigxK0FfSXNVbmljb2RlKSA6IG9iai5HZXRDYXBh\nY2l0eShrKQogICAgdnAgIDo9IG9iai5HZXRBZGRyZXNzKGspCiAgICBWYXJT\nZXRDYXBhY2l0eShvdXRzeiwgNCwgMCkKICAgIERsbENhbGwoIkNyeXB0MzIu\nZGxsXENyeXB0QmluYXJ5VG9TdHJpbmciLCAicHRyIiwgdnAsICJ1aW50Iiwg\ndnN6LCAidWludCIsIDB4QywgInB0ciIsIDAgICAsICJwdHIiLCAmb3V0c3os\nICJDREVDTCB1aW50IikKICAgIE51bUdldChvdXRzeikKICAgIFZhclNldENh\ncGFjaXR5KG91dCwgTnVtR2V0KG91dHN6KSooMStBX0lzVW5pY29kZSksIDAp\nCiAgICBEbGxDYWxsKCJDcnlwdDMyLmRsbFxDcnlwdEJpbmFyeVRvU3RyaW5n\nIiwgInB0ciIsIHZwLCAidWludCIsIHZzeiwgInVpbnQiLCAweEMsICJwdHIi\nLCAmb3V0LCAicHRyIiwgJm91dHN6LCAiQ0RFQ0wgdWludCIpCiAgICByZXR1\ncm4gb3V0Cn0KCkxTT05fU3RyaW5nVG9CaW4oc3RyLCBvYmosIGspCnsKICAg\nIFZhclNldENhcGFjaXR5KHN6LCA0KQogICAgRGxsQ2FsbCgiQ3J5cHQzMi5k\nbGxcQ3J5cHRTdHJpbmdUb0JpbmFyeSIsICJwdHIiLCAmc3RyLCAiVUludCIs\nIDAsICJVSW50IiwgMHhDLCAicHRyIiwgIDAsICJwdHIiLCAmc3osICJwdHIi\nLCAwLCAicHRyIiwgMCwgIkNEZWNsIikKICAgIG9iai5TZXRDYXBhY2l0eShr\nLCBOdW1HZXQoc3opKQogICAgcGsgOj0gb2JqLkdldEFkZHJlc3MoaykKICAg\nIERsbENhbGwoIkNyeXB0MzIuZGxsXENyeXB0U3RyaW5nVG9CaW5hcnkiLCAi\ncHRyIiwgJnN0ciwgIlVJbnQiLCAwLCAiVUludCIsIDB4QywgInB0ciIsIHBr\nLCAicHRyIiwgJnN6LCAicHRyIiwgMCwgInB0ciIsIDAsICJDRGVjbCIpCn0K\n"}